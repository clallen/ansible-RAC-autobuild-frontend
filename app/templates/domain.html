{% extends "base.html" %}
{% block content %}
<h1>Domain Configuration</h1>
Cluster Name: {{session.clname}}

<div id="defblocks">
Defined Storage Blocks
{% for blockname in session.blocks.iterkeys() %}
    <table>
    <tr>
    <th>Name</th>
    <td>{{blockname}}</td>
    <th>Pool</th>
    <td>{{session.blocks[blockname]["pool"]}}</td>
    <th>Ports</th>
    <td>{{session.blocks[blockname]["ports"]}}</td>
    <th>Begin LDEV</th>
    <td>{{session.blocks[blockname]["begin"]}}</td>
    <th>End LDEV</th>
    <td>{{session.blocks[blockname]["end"]}}</td>
    <th>Size (GB)</th>
    <td>{{session.blocks[blockname]["size"]}}</td>
    <th>Chassis</th>
    <td>{{session.blocks[blockname]["chassis"]}}</td>
    </tr>
    </table>
{% endfor %}
</div>
<form action="/domain" method="POST" name="Domain">
<div id="defdoms">
{% if session.domains|length > 0 %}
    Defined Domains
    {% for domname in session.domains %}
        <table>
        <tr>
        <th>Name</th>
        <td>{{domname}}</td>
        <th>Cores</th>
        <td>{{session.domains[domname]["cores"]}}</td>
        <th>Memory (GB)</th>
        <td>{{session.domains[domname]["ram"]}}</td>
        <th>Public PVID</th>
        <td>{{session.domains[domname]["pvid"]}}</td>
        <th>Class</th>
        <td>{{session.domains[domname]["class"]}}</td>
        <th>Patch Group</th>
        <td>{{session.domains[domname]["pgroup"]}}</td>
        <th>RAC Disk Groups</th>
        <td>{{session.domains[domname]["racdisks"]}}</td>
        <th>Chassis</th>
        <td>{{session.domains[domname]["chassis"]}}</td>
        </tr>
        </table>
        <input type="submit" name="rmbtn" value="Remove {{domname}}">
    {% endfor %}
{% else %}
    No Domains currently defined
{% endif %}
</div>
<div id="fields">
Name: {{form.name(size=15)}}<br>
Cores: {{form.cores(size=2)}}<br>
Memory in GB: {{form.ram(size=3)}}<br>
Public PVID: {{form.pvid(size=4)}}<br>
Class: {{form.pclass}}<br>
Patch Group: {{form.pgroup}}<br>
RAC Disk Groups (comma-separated): {{form.racdisks(size=50)}}<br>
Chassis: {{form.chassis(size=50)}}<br>
</div>
{{form.backbtn}}
{{form.addbtn}}
{{form.nextbtn}}
</form>
{% endblock %}
